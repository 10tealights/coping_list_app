<!DOCTYPE html>
<html>
  <head>
    <title><%= page_title(yield(:title)) %></title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_pack_tag 'application' %>
    <%= javascript_pack_tag 'application' %>
    <%= favicon_link_tag('favicon.ico') %>

    <link href="<%= image_path("apple-touch-icon.png") %>" rel="apple-touch-icon" sizes="180x180" type="image/png" />
    <link href="<%= image_path("android-touch-icon.png") %>" rel="icon" sizes="192x192" type="image/png" />

    <meta name="description" content="<%= full_description(yield(:description)) %>" />
    <meta property="og:locale" content="ja_JP" />
    <meta property="og:title" content="<%= page_title(yield(:title)) %>" />
    <meta property="og:description" content="<%= og_description(yield(:og_description)) %>" />
    <meta property="og:url" content="<%= request.url %>" />
    <meta property="og:image" content="<%= og_image(yield(:og_image)) %>" />
    <meta property="og:site_name" content="Copin'" />
    <meta property="og:type" content="website" />
    <meta name="twitter:card" content="summary_large_image" />
  </head>

  <body class="flex flex-col min-h-screen">
    <header class="sticky top-0 z-10">
      <% if logged_in? %>
        <%= render 'shared/logged_in_navbar' %>
      <% else %>
        <%= render 'shared/navbar' %>
      <% end %>
    </header>
      <main class="container flex-grow">
        <%= render 'shared/flash_messages' %>
        <%= yield %>
      </main>
      <div class="bottom-0">
        <%= render 'shared/footer' %>
      </div>
  </body>
</html>